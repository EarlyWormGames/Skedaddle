<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Skedaddle: Assets/Plugins/RootMotion/FinalIK/IK Components/FullBodyBipedIK.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="lorisicon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Skedaddle
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_full_body_biped_i_k_8cs_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">FullBodyBipedIK.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_full_body_biped_i_k_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_unity_engine.html">UnityEngine</a>;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Collections;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_root_motion.html">RootMotion</a>.FinalIK {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    [HelpURL(<span class="stringliteral">&quot;https://www.youtube.com/watch?v=7__IafZGwvI&amp;index=1&amp;list=PLVxSIA1OaTOu8Nos3CalXbJ2DrKnntMv6&quot;</span>)]</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    [AddComponentMenu(<span class="stringliteral">&quot;Scripts/RootMotion.FinalIK/IK/Full Body Biped IK&quot;</span>)]</div><div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html">   11</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html">FullBodyBipedIK</a> : <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k.html">IK</a> {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        <span class="comment">// Open the User Manual URL</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        [ContextMenu(<span class="stringliteral">&quot;User Manual&quot;</span>)]</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a18f11840a747ff0163ba5933b026badc">   15</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a18f11840a747ff0163ba5933b026badc">OpenUserManual</a>() {</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;            Application.OpenURL(<span class="stringliteral">&quot;http://www.root-motion.com/finalikdox/html/page6.html&quot;</span>);</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        }</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        </div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        <span class="comment">// Open the Script Reference URL</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        [ContextMenu(<span class="stringliteral">&quot;Scrpt Reference&quot;</span>)]</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#aae4e2635775efc0a5f2b1058b7e693fe">   21</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#aae4e2635775efc0a5f2b1058b7e693fe">OpenScriptReference</a>() {</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            Application.OpenURL(<span class="stringliteral">&quot;http://www.root-motion.com/finalikdox/html/class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html&quot;</span>);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        </div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="comment">// Open a video tutorial about setting up the component</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        [ContextMenu(<span class="stringliteral">&quot;TUTORIAL VIDEO (SETUP)&quot;</span>)]</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordtype">void</span> OpenSetupTutorial() {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            Application.OpenURL(<span class="stringliteral">&quot;https://www.youtube.com/watch?v=7__IafZGwvI&quot;</span>);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        }</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        </div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="comment">// Open a video tutorial about the component&#39;s inspector.</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        [ContextMenu(<span class="stringliteral">&quot;TUTORIAL VIDEO (INSPECTOR)&quot;</span>)]</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordtype">void</span> OpenInspectorTutorial() {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            Application.OpenURL(<span class="stringliteral">&quot;https://www.youtube.com/watch?v=tgRMsTphjJo&quot;</span>);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="comment">// Link to the Final IK Google Group</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        [ContextMenu(<span class="stringliteral">&quot;Support Group&quot;</span>)]</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordtype">void</span> SupportGroup() {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            Application.OpenURL(<span class="stringliteral">&quot;https://groups.google.com/forum/#!forum/final-ik&quot;</span>);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="comment">// Link to the Final IK Asset Store thread in the Unity Community</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        [ContextMenu(<span class="stringliteral">&quot;Asset Store Thread&quot;</span>)]</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordtype">void</span> ASThread() {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            Application.OpenURL(<span class="stringliteral">&quot;http://forum.unity3d.com/threads/final-ik-full-body-ik-aim-look-at-fabrik-ccd-ik-1-0-released.222685/&quot;</span>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a0dfac5c2550dad76128806dd5fdc019b">   52</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_biped_references.html">BipedReferences</a> references = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_biped_references.html">BipedReferences</a>();</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        </div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#ae1ba56ebef8d8312da5a610a90472823">   57</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html">IKSolverFullBodyBiped</a> solver = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html">IKSolverFullBodyBiped</a>();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a824614a4b5c443a03dfff3a5edea0485">   64</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a824614a4b5c443a03dfff3a5edea0485">SetReferences</a>(<a class="code" href="class_root_motion_1_1_biped_references.html">BipedReferences</a> references, Transform rootNode) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            this.references = references;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#aa97e0a279a2cd49d947da470ca41a28f">SetToReferences</a>(this.references, rootNode);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a40afaf3c61effbcc2ee82ad30c0b4bb7">   69</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a40afaf3c61effbcc2ee82ad30c0b4bb7">GetIKSolver</a>() {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordflow">return</span> solver as <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a8ce3c980aabd02250b0fbe4526a1cc0b">   76</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a8ce3c980aabd02250b0fbe4526a1cc0b">ReferencesError</a>(ref <span class="keywordtype">string</span> errorMessage) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="comment">// All the errors common to all bipeds</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_root_motion_1_1_biped_references.html">BipedReferences</a>.<a class="code" href="class_root_motion_1_1_biped_references.html#aa51cbda78013925d19b3eb540492f96b">SetupError</a>(references, ref errorMessage)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            </div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="comment">// All the errors specific to FBBIK</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">if</span> (references.<a class="code" href="class_root_motion_1_1_biped_references.html#aac4acc4a14c2ea6f05693afd5ff57c2c">spine</a>.Length == 0) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                errorMessage = <span class="stringliteral">&quot;References has no spine bones assigned, can not initiate the solver.&quot;</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            </div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">if</span> (solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">rootNode</a> == null) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                errorMessage = <span class="stringliteral">&quot;Root Node bone is null, can not initiate the solver.&quot;</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            </div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">if</span> (solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">rootNode</a> != references.<a class="code" href="class_root_motion_1_1_biped_references.html#aaf12e0e58c4b3e635d3bc422f4efcd36">pelvis</a>) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="keywordtype">bool</span> inSpine = <span class="keyword">false</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                </div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; references.<a class="code" href="class_root_motion_1_1_biped_references.html#aac4acc4a14c2ea6f05693afd5ff57c2c">spine</a>.Length; i++) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    <span class="keywordflow">if</span> (solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">rootNode</a> == references.<a class="code" href="class_root_motion_1_1_biped_references.html#aac4acc4a14c2ea6f05693afd5ff57c2c">spine</a>[i]) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                        inSpine = <span class="keyword">true</span>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                </div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">if</span> (!inSpine) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    errorMessage = <span class="stringliteral">&quot;The Root Node has to be one of the bones in the Spine or the Pelvis, can not initiate the solver.&quot;</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            </div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        </div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a0668d64f894aa8f21ae2057c06788812">  113</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a0668d64f894aa8f21ae2057c06788812">ReferencesWarning</a>(ref <span class="keywordtype">string</span> warningMessage) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="comment">// Check for all the warnings common to all bipeds</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_root_motion_1_1_biped_references.html">BipedReferences</a>.<a class="code" href="class_root_motion_1_1_biped_references.html#a43eed3ca43bc5b7b4aff4631ddcbd650">SetupWarning</a>(references, ref warningMessage)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="comment">// Check for warnings specific to FBBIK</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            Vector3 toRightShoulder = references.<a class="code" href="class_root_motion_1_1_biped_references.html#a255db332585a13c4e6d08602a74fb4ac">rightUpperArm</a>.position - references.<a class="code" href="class_root_motion_1_1_biped_references.html#afb1b13f2e8f216e7c7217762aa225f6a">leftUpperArm</a>.position;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            Vector3 shoulderToRootNode = solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">rootNode</a>.position - references.<a class="code" href="class_root_motion_1_1_biped_references.html#afb1b13f2e8f216e7c7217762aa225f6a">leftUpperArm</a>.position;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordtype">float</span> dot = Vector3.Dot(toRightShoulder.normalized, shoulderToRootNode.normalized);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            </div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">if</span> (dot &gt; 0.95f) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                warningMessage = <span class="stringliteral">&quot;The root node, the left upper arm and the right upper arm bones should ideally form a triangle that is as close to equilateral as possible. &quot;</span> +</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    <span class="stringliteral">&quot;Currently the root node bone seems to be very close to the line between the left upper arm and the right upper arm bones. This might cause unwanted behaviour like the spine turning upside down when pulled by a hand effector.&quot;</span> +</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                        <span class="stringliteral">&quot;Please set the root node bone to be one of the lower bones in the spine.&quot;</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            </div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            Vector3 toRightThigh = references.<a class="code" href="class_root_motion_1_1_biped_references.html#a74381fef16ab26ef3a4278539db84bf5">rightThigh</a>.position - references.<a class="code" href="class_root_motion_1_1_biped_references.html#a88d891301bf912988dafb043b8619552">leftThigh</a>.position;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            Vector3 thighToRootNode = solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">rootNode</a>.position - references.<a class="code" href="class_root_motion_1_1_biped_references.html#a88d891301bf912988dafb043b8619552">leftThigh</a>.position;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            dot = Vector3.Dot(toRightThigh.normalized, thighToRootNode.normalized);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            </div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">if</span> (dot &gt; 0.95f) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                warningMessage = <span class="stringliteral">&quot;The root node, the left thigh and the right thigh bones should ideally form a triangle that is as close to equilateral as possible. &quot;</span> +</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    <span class="stringliteral">&quot;Currently the root node bone seems to be very close to the line between the left thigh and the right thigh bones. This might cause unwanted behaviour like the hip turning upside down when pulled by an effector.&quot;</span> +</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                        <span class="stringliteral">&quot;Please set the root node bone to be one of the higher bones in the spine.&quot;</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment">// Reinitiates the solver to the current references</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        [ContextMenu(<span class="stringliteral">&quot;Reinitiate&quot;</span>)]</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordtype">void</span> Reinitiate() {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            SetReferences(references, solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">rootNode</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">// Open the User Manual URL</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        [ContextMenu(<span class="stringliteral">&quot;Auto-detect References&quot;</span>)]</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordtype">void</span> AutoDetectReferences() {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            references = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_biped_references.html">BipedReferences</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <a class="code" href="class_root_motion_1_1_biped_references.html">BipedReferences</a>.<a class="code" href="class_root_motion_1_1_biped_references.html#a9a0ace986622d184c741e801651d05dd">AutoDetectReferences</a>(ref references, transform, <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_biped_references.html">BipedReferences</a>.<a class="code" href="struct_root_motion_1_1_biped_references_1_1_auto_detect_params.html">AutoDetectParams</a>(<span class="keyword">true</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">rootNode</a> = IKSolverFullBodyBiped.DetectRootNodeBone(references);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            </div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#aa97e0a279a2cd49d947da470ca41a28f">SetToReferences</a>(references, solver.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">rootNode</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k.html">RootMotion.FinalIK.IK</a></div><div class="ttdoc">Base abstract class for IK solver components. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_8cs_source.html#l00009">IK.cs:9</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k_html_a40afaf3c61effbcc2ee82ad30c0b4bb7"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a40afaf3c61effbcc2ee82ad30c0b4bb7">RootMotion.FinalIK.FullBodyBipedIK.GetIKSolver</a></div><div class="ttdeci">override IKSolver GetIKSolver()</div><div class="ttdoc">Gets the IK component&amp;#39;s solver as IKSolver. </div><div class="ttdef"><b>Definition:</b> <a href="_full_body_biped_i_k_8cs_source.html#l00069">FullBodyBipedIK.cs:69</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_afb1b13f2e8f216e7c7217762aa225f6a"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#afb1b13f2e8f216e7c7217762aa225f6a">RootMotion.BipedReferences.leftUpperArm</a></div><div class="ttdeci">Transform leftUpperArm</div><div class="ttdoc">The first bone of the left arm. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00050">BipedReferences.cs:50</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_a88d891301bf912988dafb043b8619552"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#a88d891301bf912988dafb043b8619552">RootMotion.BipedReferences.leftThigh</a></div><div class="ttdeci">Transform leftThigh</div><div class="ttdoc">The first bone of the left leg. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00026">BipedReferences.cs:26</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k_html_aae4e2635775efc0a5f2b1058b7e693fe"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#aae4e2635775efc0a5f2b1058b7e693fe">RootMotion.FinalIK.FullBodyBipedIK.OpenScriptReference</a></div><div class="ttdeci">override void OpenScriptReference()</div><div class="ttdef"><b>Definition:</b> <a href="_full_body_biped_i_k_8cs_source.html#l00021">FullBodyBipedIK.cs:21</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_a74381fef16ab26ef3a4278539db84bf5"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#a74381fef16ab26ef3a4278539db84bf5">RootMotion.BipedReferences.rightThigh</a></div><div class="ttdeci">Transform rightThigh</div><div class="ttdoc">The first bone of the right leg. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00038">BipedReferences.cs:38</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k_html_a824614a4b5c443a03dfff3a5edea0485"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a824614a4b5c443a03dfff3a5edea0485">RootMotion.FinalIK.FullBodyBipedIK.SetReferences</a></div><div class="ttdeci">void SetReferences(BipedReferences references, Transform rootNode)</div><div class="ttdoc">Sets the solver to new biped references. </div><div class="ttdef"><b>Definition:</b> <a href="_full_body_biped_i_k_8cs_source.html#l00064">FullBodyBipedIK.cs:64</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_aaf12e0e58c4b3e635d3bc422f4efcd36"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#aaf12e0e58c4b3e635d3bc422f4efcd36">RootMotion.BipedReferences.pelvis</a></div><div class="ttdeci">Transform pelvis</div><div class="ttdoc">The pelvis (hip) bone. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00022">BipedReferences.cs:22</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k_html_a18f11840a747ff0163ba5933b026badc"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a18f11840a747ff0163ba5933b026badc">RootMotion.FinalIK.FullBodyBipedIK.OpenUserManual</a></div><div class="ttdeci">override void OpenUserManual()</div><div class="ttdef"><b>Definition:</b> <a href="_full_body_biped_i_k_8cs_source.html#l00015">FullBodyBipedIK.cs:15</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k_html_a0668d64f894aa8f21ae2057c06788812"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a0668d64f894aa8f21ae2057c06788812">RootMotion.FinalIK.FullBodyBipedIK.ReferencesWarning</a></div><div class="ttdeci">bool ReferencesWarning(ref string warningMessage)</div><div class="ttdoc">Check for possible warnings with the biped references setup. Returns true if warning found...</div><div class="ttdef"><b>Definition:</b> <a href="_full_body_biped_i_k_8cs_source.html#l00113">FullBodyBipedIK.cs:113</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_aac4acc4a14c2ea6f05693afd5ff57c2c"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#aac4acc4a14c2ea6f05693afd5ff57c2c">RootMotion.BipedReferences.spine</a></div><div class="ttdeci">Transform [] spine</div><div class="ttdoc">The spine hierarchy. Should not contain any bone deeper in the hierarchy than the arms (neck or head)...</div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00078">BipedReferences.cs:78</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html">RootMotion.FinalIK.IKSolverFullBodyBiped</a></div><div class="ttdoc">FBIK solver specialized to biped characters. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_biped_8cs_source.html#l00038">IKSolverFullBodyBiped.cs:38</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_aa51cbda78013925d19b3eb540492f96b"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#aa51cbda78013925d19b3eb540492f96b">RootMotion.BipedReferences.SetupError</a></div><div class="ttdeci">static bool SetupError(BipedReferences references, ref string errorMessage)</div><div class="ttdoc">Checks the setup for definite problems. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00330">BipedReferences.cs:330</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k_html_a8ce3c980aabd02250b0fbe4526a1cc0b"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html#a8ce3c980aabd02250b0fbe4526a1cc0b">RootMotion.FinalIK.FullBodyBipedIK.ReferencesError</a></div><div class="ttdeci">bool ReferencesError(ref string errorMessage)</div><div class="ttdoc">Checks the biped references for errors. Returns true if error found. </div><div class="ttdef"><b>Definition:</b> <a href="_full_body_biped_i_k_8cs_source.html#l00076">FullBodyBipedIK.cs:76</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_a9a0ace986622d184c741e801651d05dd"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#a9a0ace986622d184c741e801651d05dd">RootMotion.BipedReferences.AutoDetectReferences</a></div><div class="ttdeci">static bool AutoDetectReferences(ref BipedReferences references, Transform root, AutoDetectParams autoDetectParams)</div><div class="ttdoc">Automatically detects biped bones. Returns true if a valid biped has been referenced. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00179">BipedReferences.cs:179</a></div></div>
<div class="ttc" id="struct_root_motion_1_1_biped_references_1_1_auto_detect_params_html"><div class="ttname"><a href="struct_root_motion_1_1_biped_references_1_1_auto_detect_params.html">RootMotion.BipedReferences.AutoDetectParams</a></div><div class="ttdoc">Params for automatic biped recognition. (Using a struct here because I might need to add more paramet...</div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00156">BipedReferences.cs:156</a></div></div>
<div class="ttc" id="namespace_root_motion_html"><div class="ttname"><a href="namespace_root_motion.html">RootMotion</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped_html_a9a18dc6b6c5d26df3e1ec2ab33b07239"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#a9a18dc6b6c5d26df3e1ec2ab33b07239">RootMotion.FinalIK.IKSolverFullBodyBiped.rootNode</a></div><div class="ttdeci">Transform rootNode</div><div class="ttdoc">The central root node (body). </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_biped_8cs_source.html#l00045">IKSolverFullBodyBiped.cs:45</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html">RootMotion.BipedReferences</a></div><div class="ttdoc">Contains references to bones common to all biped characters. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00011">BipedReferences.cs:11</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_full_body_biped_i_k.html">RootMotion.FinalIK.FullBodyBipedIK</a></div><div class="ttdoc">Full Body IK System designed specifically for bipeds </div><div class="ttdef"><b>Definition:</b> <a href="_full_body_biped_i_k_8cs_source.html#l00011">FullBodyBipedIK.cs:11</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">RootMotion.FinalIK.IKSolver</a></div><div class="ttdoc">The base abstract class for all IK solvers </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_8cs_source.html#l00010">IKSolver.cs:10</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped_html_aa97e0a279a2cd49d947da470ca41a28f"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_biped.html#aa97e0a279a2cd49d947da470ca41a28f">RootMotion.FinalIK.IKSolverFullBodyBiped.SetToReferences</a></div><div class="ttdeci">void SetToReferences(BipedReferences references, Transform rootNode=null)</div><div class="ttdoc">Sets up the solver to BipedReferences and reinitiates (if in runtime). </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_biped_8cs_source.html#l00301">IKSolverFullBodyBiped.cs:301</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_a255db332585a13c4e6d08602a74fb4ac"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#a255db332585a13c4e6d08602a74fb4ac">RootMotion.BipedReferences.rightUpperArm</a></div><div class="ttdeci">Transform rightUpperArm</div><div class="ttdoc">The first bone of the right arm. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00062">BipedReferences.cs:62</a></div></div>
<div class="ttc" id="class_root_motion_1_1_biped_references_html_a43eed3ca43bc5b7b4aff4631ddcbd650"><div class="ttname"><a href="class_root_motion_1_1_biped_references.html#a43eed3ca43bc5b7b4aff4631ddcbd650">RootMotion.BipedReferences.SetupWarning</a></div><div class="ttdeci">static bool SetupWarning(BipedReferences references, ref string warningMessage)</div><div class="ttdoc">Checks the setup for possible problems. </div><div class="ttdef"><b>Definition:</b> <a href="_biped_references_8cs_source.html#l00349">BipedReferences.cs:349</a></div></div>
<div class="ttc" id="namespace_unity_engine_html"><div class="ttname"><a href="namespace_unity_engine.html">UnityEngine</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_84bbf7b3c7f28a5a18725745e1505219.html">Assets</a></li><li class="navelem"><a class="el" href="dir_c0005b12c1c6ae1cb8e9754bcab8bc3c.html">Plugins</a></li><li class="navelem"><a class="el" href="dir_c0726432ada3de9e3d2a12572beaebec.html">RootMotion</a></li><li class="navelem"><a class="el" href="dir_92548afe4ff1affb2d70b4be084923d6.html">FinalIK</a></li><li class="navelem"><a class="el" href="dir_2fd23217c9de765c4939fc1a47e5ef51.html">IK Components</a></li><li class="navelem"><a class="el" href="_full_body_biped_i_k_8cs.html">FullBodyBipedIK.cs</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
