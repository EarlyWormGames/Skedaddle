<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Skedaddle: Assets/Plugins/RootMotion/FinalIK/IK Solvers/IKSolverFullBody.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="lorisicon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Skedaddle
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_i_k_solver_full_body_8cs_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">IKSolverFullBody.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_i_k_solver_full_body_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_unity_engine.html">UnityEngine</a>;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Collections;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_root_motion.html">RootMotion</a>.FinalIK {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    [<a class="code" href="namespace_system.html">System</a>.Serializable]</div><div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html">   10</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html">IKSolverFullBody</a> : <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a> {</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        </div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">        #region Main Interface</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        </div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        [Range(0, 10)]</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a1c5503fc656cad2bdb10bfc511760424">   18</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">int</span> iterations = 4;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aae6ec635c069329275bd5e3eb18dac41">   22</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html">FBIKChain</a>[] chain = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html">FBIKChain</a>[0];</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#add899bb83ac8a5c74bacaa9463bfd0cc">   26</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html">IKEffector</a>[] effectors = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html">IKEffector</a>[0];</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a29f95d9ab15bf68b734d1b3e092571c3">   30</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html">IKMappingSpine</a> spineMapping = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html">IKMappingSpine</a>();</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a5c0dfff5a382d7386bfe163ecdee1410">   34</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html">IKMappingBone</a>[] boneMappings = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html">IKMappingBone</a>[0];</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a5161bd901ca157bc668292d518fd4c9b">   38</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html">IKMappingLimb</a>[] limbMappings = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html">IKMappingLimb</a>[0];</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        </div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a01f3b5d21d61ed9ef995a699801df3ca">   43</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html">IKEffector</a> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a01f3b5d21d61ed9ef995a699801df3ca">GetEffector</a>(Transform t) {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; effectors.Length; i++) <span class="keywordflow">if</span> (effectors[i].bone == t) <span class="keywordflow">return</span> effectors[i];</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        }</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        </div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a2f623d9c15b58d7b0e614ce219fe54b7">   51</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html">FBIKChain</a> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a2f623d9c15b58d7b0e614ce219fe54b7">GetChain</a>(Transform transform) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keywordtype">int</span> index = GetChainIndex(transform);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keywordflow">if</span> (index == -1) <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">return</span> chain[index];</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#afa18af05d42150df4de773d6cd85b027">   60</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#afa18af05d42150df4de773d6cd85b027">GetChainIndex</a>(Transform transform) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chain.Length; i++) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; chain[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#ab19a69e9c38ffec272cba41030cfbb40">nodes</a>.Length; n++) <span class="keywordflow">if</span> (chain[i].nodes[n].transform == transform) <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">return</span> -1; </div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a79ac1fc3ed2d9cba9a13f7448abfb00f">   67</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a>.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_node.html">Node</a> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a79ac1fc3ed2d9cba9a13f7448abfb00f">GetNode</a>(<span class="keywordtype">int</span> chainIndex, <span class="keywordtype">int</span> nodeIndex) {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">return</span> chain[chainIndex].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#ab19a69e9c38ffec272cba41030cfbb40">nodes</a>[nodeIndex];</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a5592a6494b14a6d4f6da45867ab0a9dc">   71</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a5592a6494b14a6d4f6da45867ab0a9dc">GetChainAndNodeIndexes</a>(Transform transform, out <span class="keywordtype">int</span> chainIndex, out <span class="keywordtype">int</span> nodeIndex) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            chainIndex = GetChainIndex(transform);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">if</span> (chainIndex == -1) nodeIndex = -1;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">else</span> nodeIndex = chain[chainIndex].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a4158249eab77a3f471243a23e893e783">GetNodeIndex</a>(transform);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a3f5d0189403f02d2b30c6174c2a00fbb">   77</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a>.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_point.html">Point</a>[] <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a3f5d0189403f02d2b30c6174c2a00fbb">GetPoints</a>() {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordtype">int</span> nodes = 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chain.Length; i++) nodes += chain[i].nodes.Length;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a>.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_point.html">Point</a>[] pointArray = <span class="keyword">new</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a>.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_point.html">Point</a>[nodes];</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordtype">int</span> added = 0;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            for (<span class="keywordtype">int</span> i = 0; i &lt; chain.Length; i++) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; chain[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#ab19a69e9c38ffec272cba41030cfbb40">nodes</a>.Length; n++) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    pointArray[added] = chain[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#ab19a69e9c38ffec272cba41030cfbb40">nodes</a>[n] as <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a>.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_node.html">Node</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">return</span> pointArray;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        </div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a7d50e5600dfb189d37780f8e74b9b5f9">   93</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a>.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_point.html">Point</a> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a7d50e5600dfb189d37780f8e74b9b5f9">GetPoint</a>(Transform transform) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chain.Length; i++) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; chain[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#ab19a69e9c38ffec272cba41030cfbb40">nodes</a>.Length; n++) <span class="keywordflow">if</span> (chain[i].nodes[n].transform == transform) <span class="keywordflow">return</span> chain[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#ab19a69e9c38ffec272cba41030cfbb40">nodes</a>[n] as <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">IKSolver</a>.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_point.html">Point</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        </div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a52e5312dcea8441bec26f0a9c2bf54f2">  100</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">bool</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a52e5312dcea8441bec26f0a9c2bf54f2">IsValid</a>(ref <span class="keywordtype">string</span> message) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">if</span> (chain == null) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                message = <span class="stringliteral">&quot;FBIK chain is null, can&#39;t initiate solver.&quot;</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> (chain.Length == 0) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                message = <span class="stringliteral">&quot;FBIK chain length is 0, can&#39;t initiate solver.&quot;</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chain.Length; i++) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordflow">if</span> (!chain[i].IsValid(ref message)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html">IKEffector</a> e <span class="keywordflow">in</span> effectors) <span class="keywordflow">if</span> (!e.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#ad183ef6b0f143604fec88bba5126ec53">IsValid</a>(<span class="keyword">this</span>, ref message)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">if</span> (!spineMapping.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#ab93a1e51b71ee23679b83bd407976f9d">IsValid</a>(<span class="keyword">this</span>, ref message)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html">IKMappingLimb</a> l <span class="keywordflow">in</span> limbMappings) <span class="keywordflow">if</span> (!l.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html#a9c62050a36b238ef19332f8855fdb6e4">IsValid</a>(<span class="keyword">this</span>, ref message)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html">IKMappingBone</a> b <span class="keywordflow">in</span> boneMappings) <span class="keywordflow">if</span> (!b.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html#ae6cdd8926b914a52dcef66e131733bd3">IsValid</a>(<span class="keyword">this</span>, ref message)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a118a3650cb8bef7d81fe8081085be0a0">  127</a></span>&#160;        <span class="keyword">public</span> UpdateDelegate <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a118a3650cb8bef7d81fe8081085be0a0">OnPreRead</a>;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#abcd3b4384631a4d61918d005ba2d3aaa">  131</a></span>&#160;        <span class="keyword">public</span> UpdateDelegate <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#abcd3b4384631a4d61918d005ba2d3aaa">OnPreSolve</a>;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a644052615e27543f862039ef09a8d2a3">  135</a></span>&#160;        <span class="keyword">public</span> IterationDelegate <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a644052615e27543f862039ef09a8d2a3">OnPreIteration</a>;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aac3eb5293a5bb82b528ff02995126ae2">  139</a></span>&#160;        <span class="keyword">public</span> IterationDelegate <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aac3eb5293a5bb82b528ff02995126ae2">OnPostIteration</a>;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a50640623e84028aabf5f3cfba7064f07">  143</a></span>&#160;        <span class="keyword">public</span> UpdateDelegate <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a50640623e84028aabf5f3cfba7064f07">OnPreBend</a>;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a454e350cb298682928252077e83fd4f5">  147</a></span>&#160;        <span class="keyword">public</span> UpdateDelegate <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a454e350cb298682928252077e83fd4f5">OnPostSolve</a>;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ac8f915abe3bcc14230e556566904a04c">  151</a></span>&#160;        <span class="keyword">public</span> UpdateDelegate <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ac8f915abe3bcc14230e556566904a04c">OnStoreDefaultLocalState</a>;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aea393686f485cd8fed883cb6f757a1e7">  155</a></span>&#160;        <span class="keyword">public</span> UpdateDelegate <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aea393686f485cd8fed883cb6f757a1e7">OnFixTransforms</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        </div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">        #endregion Main Interface</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a6218fb49ef96ab8f19a6016c91cb26ad">  159</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a6218fb49ef96ab8f19a6016c91cb26ad">StoreDefaultLocalState</a>() {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            spineMapping.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#a155b51cfef1bfb5c6aed669d4a40dd32">StoreDefaultLocalState</a>();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; limbMappings.Length; i++) limbMappings[i].StoreDefaultLocalState();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; boneMappings.Length; i++) boneMappings[i].StoreDefaultLocalState();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (OnStoreDefaultLocalState != null) OnStoreDefaultLocalState();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        </div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ad2db122b4977cefd66fad54e26d38671">  167</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ad2db122b4977cefd66fad54e26d38671">FixTransforms</a>() {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">if</span> (IKPositionWeight &lt;= 0f) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            spineMapping.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#a29c96ddc95ba53ac5c6f2f4914b4fc59">FixTransforms</a>();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; limbMappings.Length; i++) limbMappings[i].FixTransforms();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; boneMappings.Length; i++) boneMappings[i].FixTransforms();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">if</span> (OnFixTransforms != null) OnFixTransforms();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a314815fbee3caadfd26d449764ee6e5c">  177</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a314815fbee3caadfd26d449764ee6e5c">OnInitiate</a>() {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="comment">// Initiate chain</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chain.Length; i++) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                chain[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a920f4ea3e2aa7ca61a6e87aa1e01de9a">Initiate</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="comment">// Initiate effectors</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html">IKEffector</a> e <span class="keywordflow">in</span> effectors) e.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#a10b51db799b0056619da99d7273f2653">Initiate</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            </div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="comment">// Initiate IK mapping</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            spineMapping.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#a1b6610a202659f34e6126e943fa3fb1d">Initiate</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html">IKMappingBone</a> boneMapping <span class="keywordflow">in</span> boneMappings) boneMapping.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html#a7eea7aefe2699d7b01ebafe17543c6bd">Initiate</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html">IKMappingLimb</a> limbMapping <span class="keywordflow">in</span> limbMappings) limbMapping.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html#abae95dfedf3c3b0742e0f368f0c02666">Initiate</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a465b375253ab446e5f3ae14614290174">  192</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a465b375253ab446e5f3ae14614290174">OnUpdate</a>() {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">if</span> (IKPositionWeight &lt;= 0) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="comment">// clear effector positionOffsets so they would not accumulate</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; effectors.Length; i++) effectors[i].positionOffset = Vector3.zero;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">if</span> (chain.Length == 0) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            IKPositionWeight = Mathf.Clamp(IKPositionWeight, 0f, 1f);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">if</span> (OnPreRead != null) OnPreRead();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="comment">// Phase 1: Read the pose of the biped</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            ReadPose();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">if</span> (OnPreSolve != null) OnPreSolve();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="comment">// Phase 2: Solve IK</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            Solve();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordflow">if</span> (OnPostSolve != null) OnPostSolve();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="comment">// Phase 3: Map biped to it&#39;s solved state</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            WritePose();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="comment">// Reset effector position offsets to Vector3.zero</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; effectors.Length; i++) effectors[i].OnPostWrite();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        </div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#abee6485084ea3120e974145609fe7838">  223</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#abee6485084ea3120e974145609fe7838">ReadPose</a>() {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="comment">// Making sure the limbs are not inverted</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chain.Length; i++) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="keywordflow">if</span> (chain[i].bendConstraint.initiated) chain[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a9da22043dfd81c60bb9d3e8b7a7d6e8a">bendConstraint</a>.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_constraint_bend.html#ab4f9040070d57243b4f0469ec04fb034">LimitBend</a>(IKPositionWeight, GetEffector(chain[i].nodes[2].transform).positionWeight);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="comment">// Presolve effectors, apply effector offset to the nodes</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; effectors.Length; i++) effectors[i].ResetOffset(<span class="keyword">this</span>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; effectors.Length; i++) effectors[i].OnPreSolve(<span class="keyword">this</span>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="comment">// Set solver positions to match the current bone positions of the biped</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chain.Length; i++) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                chain[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a588a6e19aec22732f921ec4083786c83">ReadPose</a>(<span class="keyword">this</span>, iterations &gt; 0);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="comment">// IKMapping </span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">if</span> (iterations &gt; 0) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                spineMapping.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#aa1eb8c101603c5e6340acab5bc639673">ReadPose</a>();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; boneMappings.Length; i++) boneMappings[i].ReadPose();</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; limbMappings.Length; i++) limbMappings[i].ReadPose();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aa425f453f41406b05061e3512d98ce96">  247</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aa425f453f41406b05061e3512d98ce96">Solve</a>() {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="comment">// Iterate solver</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">if</span>(iterations &gt; 0) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; iterations; i++) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <span class="keywordflow">if</span> (OnPreIteration != null) OnPreIteration(i);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="comment">// Apply end-effectors</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; effectors.Length; e++) <span class="keywordflow">if</span> (effectors[e].isEndEffector) effectors[e].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#a68357766a32e45dd3f6ba4860b0d88e6">Update</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                </div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <span class="comment">// Reaching</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <span class="comment">//for (int c = 0; c &lt; chain.Length; c++) chain[c].Push();</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    chain[0].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#acbe23897fbca5d475e2fdcc6b275e44f">Push</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    <span class="comment">// Reaching</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                    chain[0].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a6c3e42a7ffd67e7ec3704b501d4ed964">Reach</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    <span class="comment">// Apply non end-effectors</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; effectors.Length; e++) <span class="keywordflow">if</span> (!effectors[e].isEndEffector) effectors[e].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#a68357766a32e45dd3f6ba4860b0d88e6">Update</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    <span class="comment">// Trigonometric pass to release push tension from the solver</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    chain[0].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a02a04f84e5fc0c66cda70ffc7207ba2b">SolveTrigonometric</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="comment">// Solving FABRIK forward</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    chain[0].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a5d7b8f6e941cf4d392d6018d7a985add">Stage1</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    <span class="comment">// Apply non end-effectors again</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e = 0; e &lt; effectors.Length; e++) <span class="keywordflow">if</span> (!effectors[e].isEndEffector) effectors[e].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#a68357766a32e45dd3f6ba4860b0d88e6">Update</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <span class="comment">// Solving FABRIK backwards</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    chain[0].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a1d328994fe5179453233c2857618ee20">Stage2</a>(<span class="keyword">this</span>, chain[0].nodes[0].solverPosition);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    <span class="keywordflow">if</span> (OnPostIteration != null) OnPostIteration(i);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="comment">// Before applying bend constraints (last chance to modify the bend direction)</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (OnPreBend != null) OnPreBend();</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="comment">// Final end-effector pass</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; effectors.Length; i++) <span class="keywordflow">if</span> (effectors[i].isEndEffector) effectors[i].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#a68357766a32e45dd3f6ba4860b0d88e6">Update</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            ApplyBendConstraints();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ad6b05a4f0312f9f6df7de38b1222a649">  291</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ad6b05a4f0312f9f6df7de38b1222a649">ApplyBendConstraints</a>() {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="comment">// Solve bend constraints</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            chain[0].<a class="code" href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a02a04f84e5fc0c66cda70ffc7207ba2b">SolveTrigonometric</a>(<span class="keyword">this</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a08443a6f8b4f9dcfc4d0e5e8426ada7a">  296</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a08443a6f8b4f9dcfc4d0e5e8426ada7a">WritePose</a>() {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (IKPositionWeight &lt;= 0f) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="comment">// Apply IK mapping</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">if</span> (iterations &gt; 0) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                spineMapping.<a class="code" href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#abcd8bda1334b90691fee97306a104eee">WritePose</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; boneMappings.Length; i++) boneMappings[i].WritePose(IKPositionWeight);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; limbMappings.Length; i++) limbMappings[i].WritePose(<span class="keyword">this</span>, iterations &gt; 0);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_a588a6e19aec22732f921ec4083786c83"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a588a6e19aec22732f921ec4083786c83">RootMotion.FinalIK.FBIKChain.ReadPose</a></div><div class="ttdeci">void ReadPose(IKSolverFullBody solver, bool fullBody)</div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00261">FBIKChain.cs:261</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_effector_html_ad183ef6b0f143604fec88bba5126ec53"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#ad183ef6b0f143604fec88bba5126ec53">RootMotion.FinalIK.IKEffector.IsValid</a></div><div class="ttdeci">bool IsValid(IKSolver solver, ref string message)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_effector_8cs_source.html#l00111">IKEffector.cs:111</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_ad6b05a4f0312f9f6df7de38b1222a649"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ad6b05a4f0312f9f6df7de38b1222a649">RootMotion.FinalIK.IKSolverFullBody.ApplyBendConstraints</a></div><div class="ttdeci">virtual void ApplyBendConstraints()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00291">IKSolverFullBody.cs:291</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_ac8f915abe3bcc14230e556566904a04c"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ac8f915abe3bcc14230e556566904a04c">RootMotion.FinalIK.IKSolverFullBody.OnStoreDefaultLocalState</a></div><div class="ttdeci">UpdateDelegate OnStoreDefaultLocalState</div><div class="ttdoc">Called when storing default local state (the state that FixTransforms will reset the hierarchy to)...</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00151">IKSolverFullBody.cs:151</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html">RootMotion.FinalIK.IKSolverFullBody</a></div><div class="ttdoc">Generic FBIK solver. In each solver update, IKSolverFullBody first reads the character&amp;#39;s pose...</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00010">IKSolverFullBody.cs:10</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a118a3650cb8bef7d81fe8081085be0a0"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a118a3650cb8bef7d81fe8081085be0a0">RootMotion.FinalIK.IKSolverFullBody.OnPreRead</a></div><div class="ttdeci">UpdateDelegate OnPreRead</div><div class="ttdoc">Called before reading the pose </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00127">IKSolverFullBody.cs:127</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html">RootMotion.FinalIK.FBIKChain</a></div><div class="ttdoc">A chain of bones in IKSolverFullBody. </div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00011">FBIKChain.cs:11</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a5592a6494b14a6d4f6da45867ab0a9dc"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a5592a6494b14a6d4f6da45867ab0a9dc">RootMotion.FinalIK.IKSolverFullBody.GetChainAndNodeIndexes</a></div><div class="ttdeci">void GetChainAndNodeIndexes(Transform transform, out int chainIndex, out int nodeIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00071">IKSolverFullBody.cs:71</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html">RootMotion.FinalIK.IKMappingSpine</a></div><div class="ttdoc">Mapping a bone hierarchy to 2 triangles defined by the hip and chest planes. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_spine_8cs_source.html#l00010">IKMappingSpine.cs:10</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_effector_html_a68357766a32e45dd3f6ba4860b0d88e6"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#a68357766a32e45dd3f6ba4860b0d88e6">RootMotion.FinalIK.IKEffector.Update</a></div><div class="ttdeci">void Update(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_effector_8cs_source.html#l00297">IKEffector.cs:297</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a6218fb49ef96ab8f19a6016c91cb26ad"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a6218fb49ef96ab8f19a6016c91cb26ad">RootMotion.FinalIK.IKSolverFullBody.StoreDefaultLocalState</a></div><div class="ttdeci">override void StoreDefaultLocalState()</div><div class="ttdoc">Stores the default local state for the bones used by the solver. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00159">IKSolverFullBody.cs:159</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a454e350cb298682928252077e83fd4f5"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a454e350cb298682928252077e83fd4f5">RootMotion.FinalIK.IKSolverFullBody.OnPostSolve</a></div><div class="ttdeci">UpdateDelegate OnPostSolve</div><div class="ttdoc">Called after updating the solver </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00147">IKSolverFullBody.cs:147</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a50640623e84028aabf5f3cfba7064f07"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a50640623e84028aabf5f3cfba7064f07">RootMotion.FinalIK.IKSolverFullBody.OnPreBend</a></div><div class="ttdeci">UpdateDelegate OnPreBend</div><div class="ttdoc">Called before applying bend constraints. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00143">IKSolverFullBody.cs:143</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_abcd3b4384631a4d61918d005ba2d3aaa"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#abcd3b4384631a4d61918d005ba2d3aaa">RootMotion.FinalIK.IKSolverFullBody.OnPreSolve</a></div><div class="ttdeci">UpdateDelegate OnPreSolve</div><div class="ttdoc">Called before solving. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00131">IKSolverFullBody.cs:131</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine_html_a1b6610a202659f34e6126e943fa3fb1d"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#a1b6610a202659f34e6126e943fa3fb1d">RootMotion.FinalIK.IKMappingSpine.Initiate</a></div><div class="ttdeci">override void Initiate(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_spine_8cs_source.html#l00144">IKMappingSpine.cs:144</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a314815fbee3caadfd26d449764ee6e5c"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a314815fbee3caadfd26d449764ee6e5c">RootMotion.FinalIK.IKSolverFullBody.OnInitiate</a></div><div class="ttdeci">override void OnInitiate()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00177">IKSolverFullBody.cs:177</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_aac3eb5293a5bb82b528ff02995126ae2"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aac3eb5293a5bb82b528ff02995126ae2">RootMotion.FinalIK.IKSolverFullBody.OnPostIteration</a></div><div class="ttdeci">IterationDelegate OnPostIteration</div><div class="ttdoc">Called after each iteration </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00139">IKSolverFullBody.cs:139</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_a920f4ea3e2aa7ca61a6e87aa1e01de9a"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a920f4ea3e2aa7ca61a6e87aa1e01de9a">RootMotion.FinalIK.FBIKChain.Initiate</a></div><div class="ttdeci">void Initiate(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00234">FBIKChain.cs:234</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_ad2db122b4977cefd66fad54e26d38671"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#ad2db122b4977cefd66fad54e26d38671">RootMotion.FinalIK.IKSolverFullBody.FixTransforms</a></div><div class="ttdeci">override void FixTransforms()</div><div class="ttdoc">Fixes all the Transforms used by the solver to their initial state. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00167">IKSolverFullBody.cs:167</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone_html_ae6cdd8926b914a52dcef66e131733bd3"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html#ae6cdd8926b914a52dcef66e131733bd3">RootMotion.FinalIK.IKMappingBone.IsValid</a></div><div class="ttdeci">override bool IsValid(IKSolver solver, ref string message)</div><div class="ttdoc">Determines whether this IKMappingBone is valid. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_bone_8cs_source.html#l00028">IKMappingBone.cs:28</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html">RootMotion.FinalIK.IKMappingLimb</a></div><div class="ttdoc">Maps a 3-segmented bone hierarchy to a node chain of an IK Solver </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_limb_8cs_source.html#l00010">IKMappingLimb.cs:10</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_a1d328994fe5179453233c2857618ee20"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a1d328994fe5179453233c2857618ee20">RootMotion.FinalIK.FBIKChain.Stage2</a></div><div class="ttdeci">void Stage2(IKSolverFullBody solver, Vector3 position)</div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00482">FBIKChain.cs:482</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_ab19a69e9c38ffec272cba41030cfbb40"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#ab19a69e9c38ffec272cba41030cfbb40">RootMotion.FinalIK.FBIKChain.nodes</a></div><div class="ttdeci">IKSolver.Node [] nodes</div><div class="ttdoc">The nodes in this chain. </div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00158">FBIKChain.cs:158</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine_html_a155b51cfef1bfb5c6aed669d4a40dd32"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#a155b51cfef1bfb5c6aed669d4a40dd32">RootMotion.FinalIK.IKMappingSpine.StoreDefaultLocalState</a></div><div class="ttdeci">void StoreDefaultLocalState()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_spine_8cs_source.html#l00129">IKMappingSpine.cs:129</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a465b375253ab446e5f3ae14614290174"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a465b375253ab446e5f3ae14614290174">RootMotion.FinalIK.IKSolverFullBody.OnUpdate</a></div><div class="ttdeci">override void OnUpdate()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00192">IKSolverFullBody.cs:192</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_node_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_node.html">RootMotion.FinalIK.IKSolver.Node</a></div><div class="ttdoc">Node type of element in the IK chain. Used in the case of mixed/non-hierarchical IK systems ...</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_8cs_source.html#l00340">IKSolver.cs:340</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine_html_aa1eb8c101603c5e6340acab5bc639673"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#aa1eb8c101603c5e6340acab5bc639673">RootMotion.FinalIK.IKMappingSpine.ReadPose</a></div><div class="ttdeci">void ReadPose()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_spine_8cs_source.html#l00200">IKMappingSpine.cs:200</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_a6c3e42a7ffd67e7ec3704b501d4ed964"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a6c3e42a7ffd67e7ec3704b501d4ed964">RootMotion.FinalIK.FBIKChain.Reach</a></div><div class="ttdeci">void Reach(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00337">FBIKChain.cs:337</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_a9da22043dfd81c60bb9d3e8b7a7d6e8a"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a9da22043dfd81c60bb9d3e8b7a7d6e8a">RootMotion.FinalIK.FBIKChain.bendConstraint</a></div><div class="ttdeci">IKConstraintBend bendConstraint</div><div class="ttdoc">Gets the bend constraint (if this chain has 3 segments). </div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00171">FBIKChain.cs:171</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a3f5d0189403f02d2b30c6174c2a00fbb"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a3f5d0189403f02d2b30c6174c2a00fbb">RootMotion.FinalIK.IKSolverFullBody.GetPoints</a></div><div class="ttdeci">override IKSolver.Point [] GetPoints()</div><div class="ttdoc">Gets all the points used by the solver. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00077">IKSolverFullBody.cs:77</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine_html_ab93a1e51b71ee23679b83bd407976f9d"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#ab93a1e51b71ee23679b83bd407976f9d">RootMotion.FinalIK.IKMappingSpine.IsValid</a></div><div class="ttdeci">override bool IsValid(IKSolver solver, ref string message)</div><div class="ttdoc">Determines whether this IKMappingSpine is valid </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_spine_8cs_source.html#l00048">IKMappingSpine.cs:48</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine_html_a29c96ddc95ba53ac5c6f2f4914b4fc59"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#a29c96ddc95ba53ac5c6f2f4914b4fc59">RootMotion.FinalIK.IKMappingSpine.FixTransforms</a></div><div class="ttdeci">void FixTransforms()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_spine_8cs_source.html#l00135">IKMappingSpine.cs:135</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_acbe23897fbca5d475e2fdcc6b275e44f"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#acbe23897fbca5d475e2fdcc6b275e44f">RootMotion.FinalIK.FBIKChain.Push</a></div><div class="ttdeci">Vector3 Push(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00374">FBIKChain.cs:374</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_a02a04f84e5fc0c66cda70ffc7207ba2b"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a02a04f84e5fc0c66cda70ffc7207ba2b">RootMotion.FinalIK.FBIKChain.SolveTrigonometric</a></div><div class="ttdeci">void SolveTrigonometric(IKSolverFullBody solver, bool calculateBendDirection=false)</div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00417">FBIKChain.cs:417</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_afa18af05d42150df4de773d6cd85b027"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#afa18af05d42150df4de773d6cd85b027">RootMotion.FinalIK.IKSolverFullBody.GetChainIndex</a></div><div class="ttdeci">int GetChainIndex(Transform transform)</div><div class="ttdoc">Gets the index of the chain (in the IKSolverFullBody.chain array) that contains the specified Transfo...</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00060">IKSolverFullBody.cs:60</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine_html_abcd8bda1334b90691fee97306a104eee"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_spine.html#abcd8bda1334b90691fee97306a104eee">RootMotion.FinalIK.IKMappingSpine.WritePose</a></div><div class="ttdeci">void WritePose(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_spine_8cs_source.html#l00217">IKMappingSpine.cs:217</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a2f623d9c15b58d7b0e614ce219fe54b7"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a2f623d9c15b58d7b0e614ce219fe54b7">RootMotion.FinalIK.IKSolverFullBody.GetChain</a></div><div class="ttdeci">FBIKChain GetChain(Transform transform)</div><div class="ttdoc">Gets the chain that contains the specified Transform. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00051">IKSolverFullBody.cs:51</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb_html_a9c62050a36b238ef19332f8855fdb6e4"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html#a9c62050a36b238ef19332f8855fdb6e4">RootMotion.FinalIK.IKMappingLimb.IsValid</a></div><div class="ttdeci">override bool IsValid(IKSolver solver, ref string message)</div><div class="ttdoc">Determines whether this IKMappingLimb is valid </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_limb_8cs_source.html#l00055">IKMappingLimb.cs:55</a></div></div>
<div class="ttc" id="namespace_root_motion_html"><div class="ttname"><a href="namespace_root_motion.html">RootMotion</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb_html_abae95dfedf3c3b0742e0f368f0c02666"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_limb.html#abae95dfedf3c3b0742e0f368f0c02666">RootMotion.FinalIK.IKMappingLimb.Initiate</a></div><div class="ttdeci">override void Initiate(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_limb_8cs_source.html#l00121">IKMappingLimb.cs:121</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_effector_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html">RootMotion.FinalIK.IKEffector</a></div><div class="ttdoc">Effector for manipulating node based IK solvers. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_effector_8cs_source.html#l00010">IKEffector.cs:10</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a08443a6f8b4f9dcfc4d0e5e8426ada7a"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a08443a6f8b4f9dcfc4d0e5e8426ada7a">RootMotion.FinalIK.IKSolverFullBody.WritePose</a></div><div class="ttdeci">virtual void WritePose()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00296">IKSolverFullBody.cs:296</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html">RootMotion.FinalIK.IKMappingBone</a></div><div class="ttdoc">Maps a single bone to a node in IK Solver </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_bone_8cs_source.html#l00010">IKMappingBone.cs:10</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_a4158249eab77a3f471243a23e893e783"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a4158249eab77a3f471243a23e893e783">RootMotion.FinalIK.FBIKChain.GetNodeIndex</a></div><div class="ttdeci">int GetNodeIndex(Transform boneTransform)</div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00207">FBIKChain.cs:207</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a7d50e5600dfb189d37780f8e74b9b5f9"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a7d50e5600dfb189d37780f8e74b9b5f9">RootMotion.FinalIK.IKSolverFullBody.GetPoint</a></div><div class="ttdeci">override IKSolver.Point GetPoint(Transform transform)</div><div class="ttdoc">Gets the point with the specified Transform. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00093">IKSolverFullBody.cs:93</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a644052615e27543f862039ef09a8d2a3"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a644052615e27543f862039ef09a8d2a3">RootMotion.FinalIK.IKSolverFullBody.OnPreIteration</a></div><div class="ttdeci">IterationDelegate OnPreIteration</div><div class="ttdoc">Called before each iteration </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00135">IKSolverFullBody.cs:135</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a79ac1fc3ed2d9cba9a13f7448abfb00f"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a79ac1fc3ed2d9cba9a13f7448abfb00f">RootMotion.FinalIK.IKSolverFullBody.GetNode</a></div><div class="ttdeci">IKSolver.Node GetNode(int chainIndex, int nodeIndex)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00067">IKSolverFullBody.cs:67</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver.html">RootMotion.FinalIK.IKSolver</a></div><div class="ttdoc">The base abstract class for all IK solvers </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_8cs_source.html#l00010">IKSolver.cs:10</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a52e5312dcea8441bec26f0a9c2bf54f2"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a52e5312dcea8441bec26f0a9c2bf54f2">RootMotion.FinalIK.IKSolverFullBody.IsValid</a></div><div class="ttdeci">override bool IsValid(ref string message)</div><div class="ttdoc">Determines whether this instance is valid or not. If returns false, also fills in an error message...</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00100">IKSolverFullBody.cs:100</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone_html_a7eea7aefe2699d7b01ebafe17543c6bd"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_mapping_bone.html#a7eea7aefe2699d7b01ebafe17543c6bd">RootMotion.FinalIK.IKMappingBone.Initiate</a></div><div class="ttdeci">override void Initiate(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_mapping_bone_8cs_source.html#l00060">IKMappingBone.cs:60</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_aea393686f485cd8fed883cb6f757a1e7"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aea393686f485cd8fed883cb6f757a1e7">RootMotion.FinalIK.IKSolverFullBody.OnFixTransforms</a></div><div class="ttdeci">UpdateDelegate OnFixTransforms</div><div class="ttdoc">Called when the bones used by the solver will reset to the default local state. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00155">IKSolverFullBody.cs:155</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_aa425f453f41406b05061e3512d98ce96"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#aa425f453f41406b05061e3512d98ce96">RootMotion.FinalIK.IKSolverFullBody.Solve</a></div><div class="ttdeci">virtual void Solve()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00247">IKSolverFullBody.cs:247</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain_html_a5d7b8f6e941cf4d392d6018d7a985add"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_f_b_i_k_chain.html#a5d7b8f6e941cf4d392d6018d7a985add">RootMotion.FinalIK.FBIKChain.Stage1</a></div><div class="ttdeci">void Stage1(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_f_b_i_k_chain_8cs_source.html#l00449">FBIKChain.cs:449</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_a01f3b5d21d61ed9ef995a699801df3ca"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#a01f3b5d21d61ed9ef995a699801df3ca">RootMotion.FinalIK.IKSolverFullBody.GetEffector</a></div><div class="ttdeci">IKEffector GetEffector(Transform t)</div><div class="ttdoc">Gets the effector of the specified Transform. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00043">IKSolverFullBody.cs:43</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_constraint_bend_html_ab4f9040070d57243b4f0469ec04fb034"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_constraint_bend.html#ab4f9040070d57243b4f0469ec04fb034">RootMotion.FinalIK.IKConstraintBend.LimitBend</a></div><div class="ttdeci">void LimitBend(float solverWeight, float positionWeight)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_constraint_bend_8cs_source.html#l00136">IKConstraintBend.cs:136</a></div></div>
<div class="ttc" id="namespace_unity_engine_html"><div class="ttname"><a href="namespace_unity_engine.html">UnityEngine</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_effector_html_a10b51db799b0056619da99d7273f2653"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_effector.html#a10b51db799b0056619da99d7273f2653">RootMotion.FinalIK.IKEffector.Initiate</a></div><div class="ttdeci">void Initiate(IKSolverFullBody solver)</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_effector_8cs_source.html#l00158">IKEffector.cs:158</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_point_html"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_1_1_point.html">RootMotion.FinalIK.IKSolver.Point</a></div><div class="ttdoc">The most basic element type in the IK chain that all other types extend from. </div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_8cs_source.html#l00141">IKSolver.cs:141</a></div></div>
<div class="ttc" id="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body_html_abee6485084ea3120e974145609fe7838"><div class="ttname"><a href="class_root_motion_1_1_final_i_k_1_1_i_k_solver_full_body.html#abee6485084ea3120e974145609fe7838">RootMotion.FinalIK.IKSolverFullBody.ReadPose</a></div><div class="ttdeci">virtual void ReadPose()</div><div class="ttdef"><b>Definition:</b> <a href="_i_k_solver_full_body_8cs_source.html#l00223">IKSolverFullBody.cs:223</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_84bbf7b3c7f28a5a18725745e1505219.html">Assets</a></li><li class="navelem"><a class="el" href="dir_c0005b12c1c6ae1cb8e9754bcab8bc3c.html">Plugins</a></li><li class="navelem"><a class="el" href="dir_c0726432ada3de9e3d2a12572beaebec.html">RootMotion</a></li><li class="navelem"><a class="el" href="dir_92548afe4ff1affb2d70b4be084923d6.html">FinalIK</a></li><li class="navelem"><a class="el" href="dir_3ffdd09c0880c9e597ef89acee439676.html">IK Solvers</a></li><li class="navelem"><a class="el" href="_i_k_solver_full_body_8cs.html">IKSolverFullBody.cs</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
